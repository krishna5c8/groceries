<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Shopping List</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <!-- Header Section -->
    <header class="dashboard-header">
        <div class="header-content">
            <h1 class="app-title">
                <span class="icon">üõí</span>
                Shopping List
            </h1>
            <p class="subtitle">Organize your shopping effortlessly</p>
        </div>
    </header>

    <div class="dashboard-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <nav class="sidebar-nav">
                <button class="nav-item active" id="navShopping" onclick="switchDashboardTab('shopping')">
                    <span class="nav-icon">üõí</span>
                    <span class="nav-text">Shopping List</span>
                </button>
                <button class="nav-item" id="navHistory" onclick="switchDashboardTab('history')">
                    <span class="nav-icon">üì¶</span>
                    <span class="nav-text">History</span>
                </button>
                <button class="nav-item" id="navReports" onclick="switchDashboardTab('reports')">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-text">Reports</span>
                </button>
                <button class="nav-item" id="navSettings" onclick="switchDashboardTab('settings')">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span class="nav-text">Settings</span>
                </button>
            </nav>
        </aside>

        <!-- Main Content Area -->
        <main class="dashboard-content">
            <!-- Shopping List Tab -->
            <div id="shoppingContent" class="dashboard-tab active">
            <!-- Add Item Section -->
            <section class="add-section">
                <div class="input-wrapper">
                    <input 
                        type="text" 
                        id="itemInput" 
                        class="item-input" 
                        placeholder="Add a new item..."
                        autocomplete="off"
                    >
                    <div id="suggestions" class="suggestions-dropdown"></div>
                </div>
                <button id="addBtn" class="btn btn-primary">
                    <span class="btn-icon">+</span>
                    Add Item
                </button>
            </section>

            <!-- Current List Section -->
            <section class="current-list-section">
                <div class="section-header">
                    <h2 class="section-title">Today's List</h2>
                    <span id="currentDate" class="date-badge"></span>
                </div>
                <div id="currentList" class="items-container">
                    <div class="empty-state">
                        <span class="empty-icon">üìù</span>
                        <p>Your shopping list is empty</p>
                        <p class="empty-hint">Start adding items above</p>
                    </div>
                </div>
                <div class="list-actions" id="listActions" style="display: none;">
                    <button id="clearBtn" class="btn btn-secondary">Clear All</button>
                    <div class="list-summary">
                        <div class="item-count">
                            <span id="itemCount">0</span> items
                        </div>
                        <div class="total-price">
                            Total: ‚Çπ<span id="totalPrice">0</span>
                        </div>
                    </div>
                </div>
            </section>

            </div>

            <!-- History Tab -->
            <div id="historyContent" class="dashboard-tab">
                <div class="tab-header">
                    <h2 class="tab-title">üì¶ Shopping History</h2>
                    <p class="tab-subtitle">View your previous shopping lists</p>
                </div>
                <div id="historyContainer" class="history-container">
                    <div class="empty-state">
                        <span class="empty-icon">üì¶</span>
                        <p>No previous lists</p>
                    </div>
                </div>
            </div>

            <!-- Reports Tab -->
            <div id="reportsContent" class="dashboard-tab">
                <div class="tab-header">
                    <h2 class="tab-title">üìä Reports & Analytics</h2>
                    <p class="tab-subtitle">Track your spending patterns</p>
                </div>
                <div class="report-tabs">
                    <button class="report-tab active" onclick="showReport('monthly')">Monthly</button>
                    <button class="report-tab" onclick="showReport('quarterly')">Quarterly</button>
                    <button class="report-tab" onclick="showReport('yearly')">Yearly</button>
                </div>
                <div id="reportContent" class="report-content">
                    <!-- Report data will be rendered here -->
                </div>
            </div>

            <!-- Settings Tab -->
            <div id="settingsContent" class="dashboard-tab">
                <div class="tab-header">
                    <h2 class="tab-title">‚öôÔ∏è Settings & Data Management</h2>
                    <p class="tab-subtitle">Backup, restore, and manage your data</p>
                </div>
                
                <div class="settings-container">
                    <!-- Backup & Restore Section -->
                    <div class="settings-section">
                        <h3 class="settings-section-title">üíæ Backup & Restore</h3>
                        <p class="settings-section-description">
                            Protect your data from browser cache clearing. Download backups regularly and restore them anytime.
                        </p>
                        
                        <div class="settings-actions">
                            <div class="settings-card">
                                <div class="settings-card-icon">üíæ</div>
                                <div class="settings-card-content">
                                    <h4 class="settings-card-title">Backup Data</h4>
                                    <p class="settings-card-description">
                                        Download all your shopping lists, history, and data as a JSON file.
                                        Keep it safe in cloud storage or your device.
                                    </p>
                                    <button class="btn btn-primary" onclick="exportData()">
                                        üì• Download Backup
                                    </button>
                                </div>
                            </div>
                            
                            <div class="settings-card">
                                <div class="settings-card-icon">üì§</div>
                                <div class="settings-card-content">
                                    <h4 class="settings-card-title">Restore Data</h4>
                                    <p class="settings-card-description">
                                        Upload a backup file to restore your data. This will replace all current data.
                                    </p>
                                    <button class="btn btn-primary" onclick="document.getElementById('restoreFileInput').click()">
                                        üì§ Upload Backup
                                    </button>
                                    <input type="file" id="restoreFileInput" accept=".json" style="display: none;" onchange="importData(event)">
                                </div>
                            </div>
                        </div>
                        
                        <div class="settings-tips">
                            <h4 style="margin-bottom: 10px; color: var(--dark);">üí° Tips:</h4>
                            <ul style="margin: 0; padding-left: 20px; color: #666;">
                                <li>Backup regularly (weekly or monthly)</li>
                                <li>Always backup before clearing browser cache</li>
                                <li>Store backups in cloud storage (Google Drive, Dropbox)</li>
                                <li>Use backups to transfer data between devices</li>
                                <li>Backup file format: <code>shopping-list-backup-YYYY-MM-DD.json</code></li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Data Info Section -->
                    <div class="settings-section">
                        <h3 class="settings-section-title">üìä Your Data</h3>
                        <div class="data-stats">
                            <div class="data-stat-card">
                                <div class="data-stat-value" id="statCurrentItems">0</div>
                                <div class="data-stat-label">Current Items</div>
                            </div>
                            <div class="data-stat-card">
                                <div class="data-stat-value" id="statHistoryLists">0</div>
                                <div class="data-stat-label">History Lists</div>
                            </div>
                            <div class="data-stat-card">
                                <div class="data-stat-value" id="statTotalItems">0</div>
                                <div class="data-stat-label">Unique Items (All Time)</div>
                            </div>
                        </div>
                        <div class="settings-tips" style="margin-top: 20px;">
                            <h4 style="margin-bottom: 10px; color: var(--dark);">‚ÑπÔ∏è About Your Data:</h4>
                            <ul style="margin: 0; padding-left: 20px; color: #666;">
                                <li><strong>Current Items:</strong> Items in your active shopping list</li>
                                <li><strong>History Lists:</strong> Number of completed shopping lists saved</li>
                                <li><strong>Unique Items (All Time):</strong> Total different items you've ever added (stored in browser for autocomplete suggestions)</li>
                            </ul>
                            <p style="margin-top: 15px; color: #666; font-size: 0.9rem;">
                                <strong>Note:</strong> The "Unique Items" count may be higher than items in your backup file because it includes all items ever added to help with autocomplete suggestions, even if some lists were deleted.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>

